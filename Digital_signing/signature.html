<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blockchain Signing</title>
    <link rel="stylesheet" href="./sign.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tweetnacl/1.0.2/nacl-fast.min.js" integrity="sha512-aLSwsdjU35MF6PERT7Pic3+X6qL7O+Us8hYQl/gjrPoV4JXUNoCF2Ys3/vfJSiBW1QNxz2WTr4tEo5VcOdHt/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <div class="sign">
        <div class="head">
            <h3>Sign a transaction</h3>
            <span>Transaction + Signature</span>
        </div>
        <div class="signing">
            <span>Transaction</span>
            <div class="transaction">
                <div class="mycred">
                    <label>Public Key</label>
                    <div class="public">
                        <input type="text" class="mypublic" readonly>
                        <span>..</span>
                    </div>
                </div>
                <i class="fa-solid fa-arrow-right" style="line-height: 22px; color: #FDD36A;"></i>
                <div class="recipient">
                    <label>To :</label>
                    <input type="text" placeholder="Recipient Key" required>
                </div>
                <div class="value">
                    <span class="Bitcoin"></span>
                    <i class="fab fa-bitcoin bitcoin"></i>
                    <input type="number" step="0.01" required>
                </div>
            </div>
            <div class="privateKey">
                <p>Private Key</p>
                <p class="privateKeyInput"></p>
            </div>
            <div class="signButton">
                <button>Sign Transaction</button>
            </div>
        </div>
    </div>
</body>
<script>

    document.addEventListener("DOMContentLoaded", ()=>{
        let public_key = document.querySelector('.mypublic');
        let private_key = document.querySelector('.privateKeyInput');
        let sign = document.querySelector('.signButton button');
        let recipientKey = document.querySelector('.recipient input');
        let bitcoinValue = document.querySelector('.value input')

        let publicPrivate = nacl.sign.keyPair();

        public_key.value = Array.from(publicPrivate.publicKey).map((i) => i.toString(16)).join('');
        private_key.innerHTML = Array.from(publicPrivate.secretKey).map((byte) => (byte).toString(16)).join('');

        sign.addEventListener('click', (e)=>{
            let digitalSign = nacl.sign(publicPrivate.secretKey);
            console.log(digitalSign);
        })

    })  

</script>
</html>